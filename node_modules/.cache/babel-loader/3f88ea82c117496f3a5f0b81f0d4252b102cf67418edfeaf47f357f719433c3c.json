{"ast":null,"code":"/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport assign from 'object-assign';\nimport PropTypes from 'prop-types';\nconst KEYCODES = {\n  ESCAPE: 'Escape'\n};\nclass Portal extends Component {\n  constructor() {\n    super();\n    this.portalElement = null;\n    this.state = {\n      isVisible: false\n    };\n\n    // shouldClose is used to keep track of the user's mouse-down events in order to\n    // prevent the dialog closing if the mouse leaves / enters the portal during the click\n    this.shouldClose = false;\n    this.close = this.close.bind(this);\n    this.onDocumentMouseUp = this.onDocumentMouseUp.bind(this);\n    this.onDocumentMouseDown = this.onDocumentMouseDown.bind(this);\n    this.onDocumentKeyDown = this.onDocumentKeyDown.bind(this);\n    this.onDocumentMouseMove = this.onDocumentMouseMove.bind(this);\n    this.getClickEventProperties = this.getClickEventProperties.bind(this);\n    this.supportsPassiveEvents = this.supportsPassiveEvents.bind(this);\n  }\n  componentDidMount() {\n    if (this.props.isOpen) {\n      this.open();\n    }\n    if (this.props.targetRef) {\n      this.props.targetRef(this.getTargetElement());\n    }\n  }\n\n  // When the consumer updates `isOpen` to be `false`, we\n  // call their beforeClose function so that they can trigger the close.\n  // If they don't provide `beforeClose` we just call `close` directly.\n  componentDidUpdate(prevProps) {\n    if (this.props.isOpen) {\n      if (!prevProps.isOpen) {\n        this.open();\n      } else {\n        this.props.onRender(this.portalElement, this.getTargetElement());\n      }\n    } else if (prevProps.isOpen) {\n      if (this.props.beforeClose) {\n        this.props.beforeClose(this.close);\n      } else {\n        this.close();\n      }\n    }\n  }\n  componentWillUnmount() {\n    this.close();\n  }\n  onDocumentMouseDown(event) {\n    const clickEventProperties = this.getClickEventProperties(event);\n    if (clickEventProperties.isNotLeftClick || clickEventProperties.isTargetClick || clickEventProperties.isPortalClick) {\n      this.shouldClose = false;\n      return;\n    }\n    this.shouldClose = true;\n  }\n  onDocumentMouseUp(event) {\n    const clickEventProperties = this.getClickEventProperties(event);\n    if (clickEventProperties.isNotLeftClick || clickEventProperties.isTargetClick || clickEventProperties.isPortalClick) {\n      this.shouldClose = false;\n      return;\n    }\n    if (this.shouldClose) {\n      // `onClose` tells the consumer that they should change `isOpen` to false.\n      // Once the consumer has responded to `onClose`, `beforeClose` and `close` will be called.\n      this.props.onClose(event, {\n        source: 'DOCUMENT_CLICK'\n      });\n    }\n  }\n  onDocumentKeyDown(event) {\n    if (event.key === KEYCODES.ESCAPE && this.props.isOpen && this.props.closeOnEscPressed) {\n      // `onClose` tells the consumer that they should change `isOpen` to false.\n      // Once the consumer has responded to `onClose`, `beforeClose` and `close` will be called.\n      this.props.onClose(event, {\n        source: 'ESCAPE'\n      });\n    }\n  }\n  onDocumentMouseMove() {\n    this.shouldClose = false;\n  }\n  getClickEventProperties(event) {\n    const isNotLeftClick = event.button && event.button !== 0;\n    const targetElement = this.getTargetElement();\n    const isTargetClick = targetElement && event.target instanceof Node && (event.target === targetElement || targetElement.contains(event.target));\n    const isPortalClick = this.portalElement && event.target instanceof Node && (event.target === this.portalElement || this.portalElement.contains(event.target));\n    return {\n      isNotLeftClick: !!isNotLeftClick,\n      isTargetClick: !!isTargetClick,\n      isPortalClick: !!isPortalClick\n    };\n  }\n  getTargetElement() {\n    var _this$props$target;\n    return typeof this.props.target === 'function' ? this.props.target() : (_this$props$target = this.props.target) === null || _this$props$target === void 0 ? void 0 : _this$props$target.ref.current;\n  }\n  getRenderTarget() {\n    const target = typeof this.props.renderTarget === 'function' ? this.props.renderTarget() : this.props.renderTarget;\n    if (target) {\n      return target;\n    }\n    if (document.body) {\n      return document.body;\n    }\n    throw new Error('Render target and fallback unavailable');\n  }\n  open() {\n    if (this.portalElement) {\n      return;\n    }\n    this.portalElement = document.createElement('div');\n    this.getRenderTarget().appendChild(this.portalElement);\n    const passiveArgs = this.supportsPassiveEvents() ? {\n      passive: true\n    } : false;\n    document.addEventListener('touchstart', this.onDocumentMouseDown, passiveArgs);\n    document.addEventListener('touchmove', this.onDocumentMouseMove, passiveArgs);\n    document.addEventListener('touchend', this.onDocumentMouseUp, passiveArgs);\n    document.addEventListener('mousedown', this.onDocumentMouseDown, false);\n    document.addEventListener('mouseup', this.onDocumentMouseUp, false);\n    document.addEventListener('keydown', this.onDocumentKeyDown, false);\n    if (this.props.style) {\n      assign(this.portalElement.style, this.props.style);\n    }\n    if (this.props.className) {\n      this.portalElement.className = this.props.className;\n    }\n    this.setState({\n      isVisible: true\n    }, () => this.props.onOpen(this.portalElement, this.getTargetElement()));\n  }\n  close() {\n    if (!this.portalElement) {\n      return;\n    }\n    const renderTarget = this.getRenderTarget();\n    if (renderTarget) {\n      renderTarget.removeChild(this.portalElement);\n    }\n    document.removeEventListener('touchstart', this.onDocumentMouseDown);\n    document.removeEventListener('touchmove', this.onDocumentMouseMove);\n    document.removeEventListener('touchend', this.onDocumentMouseUp);\n    document.removeEventListener('mousedown', this.onDocumentMouseDown);\n    document.removeEventListener('mouseup', this.onDocumentMouseUp);\n    document.removeEventListener('keydown', this.onDocumentKeyDown);\n    this.portalElement = null;\n    this.setState({\n      isVisible: false\n    });\n  }\n\n  // This function is taken from modernizr\n  // See https://github.com/modernizr/modernizr\n  // eslint-disable-next-line class-methods-use-this\n  supportsPassiveEvents() {\n    let supportsPassiveOption = false;\n    try {\n      const opts = Object.defineProperty({}, 'passive', {\n        // eslint-disable-next-line getter-return\n        get() {\n          supportsPassiveOption = true;\n        }\n      });\n      window.addEventListener('test', null, opts);\n    } catch (e) {\n      return false;\n    }\n    return supportsPassiveOption;\n  }\n  render() {\n    const {\n      portalElement,\n      props: {\n        children\n      },\n      state: {\n        isVisible\n      }\n    } = this;\n    if (!isVisible || !portalElement) {\n      return null;\n    }\n    return /*#__PURE__*/createPortal(children, portalElement);\n  }\n}\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  beforeClose: PropTypes.func,\n  className: PropTypes.string,\n  onClose: PropTypes.func,\n  onOpen: PropTypes.func,\n  onRender: PropTypes.func,\n  style: PropTypes.object,\n  // eslint-disable-line react/forbid-prop-types\n  renderTarget: PropTypes.func,\n  target: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  targetRef: PropTypes.func,\n  closeOnEscPressed: PropTypes.bool\n};\nPortal.defaultProps = {\n  beforeClose: null,\n  className: null,\n  onClose: () => null,\n  onOpen: () => null,\n  onRender: () => null,\n  style: null,\n  renderTarget: null,\n  target: null,\n  targetRef: null,\n  closeOnEscPressed: true\n};\nexport default Portal;","map":{"version":3,"names":["Component","createPortal","assign","PropTypes","KEYCODES","ESCAPE","Portal","constructor","portalElement","state","isVisible","shouldClose","close","bind","onDocumentMouseUp","onDocumentMouseDown","onDocumentKeyDown","onDocumentMouseMove","getClickEventProperties","supportsPassiveEvents","componentDidMount","props","isOpen","open","targetRef","getTargetElement","componentDidUpdate","prevProps","onRender","beforeClose","componentWillUnmount","event","clickEventProperties","isNotLeftClick","isTargetClick","isPortalClick","onClose","source","key","closeOnEscPressed","button","targetElement","target","Node","contains","_this$props$target","ref","current","getRenderTarget","renderTarget","document","body","Error","createElement","appendChild","passiveArgs","passive","addEventListener","style","className","setState","onOpen","removeChild","removeEventListener","supportsPassiveOption","opts","Object","defineProperty","get","window","e","render","children","propTypes","node","isRequired","bool","func","string","object","oneOfType","defaultProps"],"sources":["/Users/pritam/Desktop/my-app/node_modules/@skyscanner/backpack-web/bpk-react-utils/src/Portal.js"],"sourcesContent":["/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport assign from 'object-assign';\nimport PropTypes from 'prop-types';\n\nconst KEYCODES = {\n  ESCAPE: 'Escape',\n};\n\nclass Portal extends Component {\n  constructor() {\n    super();\n\n    this.portalElement = null;\n\n    this.state = {\n      isVisible: false,\n    };\n\n    // shouldClose is used to keep track of the user's mouse-down events in order to\n    // prevent the dialog closing if the mouse leaves / enters the portal during the click\n    this.shouldClose = false;\n\n    this.close = this.close.bind(this);\n    this.onDocumentMouseUp = this.onDocumentMouseUp.bind(this);\n    this.onDocumentMouseDown = this.onDocumentMouseDown.bind(this);\n    this.onDocumentKeyDown = this.onDocumentKeyDown.bind(this);\n    this.onDocumentMouseMove = this.onDocumentMouseMove.bind(this);\n    this.getClickEventProperties = this.getClickEventProperties.bind(this);\n    this.supportsPassiveEvents = this.supportsPassiveEvents.bind(this);\n  }\n\n  componentDidMount() {\n    if (this.props.isOpen) {\n      this.open();\n    }\n\n    if (this.props.targetRef) {\n      this.props.targetRef(this.getTargetElement());\n    }\n  }\n\n  // When the consumer updates `isOpen` to be `false`, we\n  // call their beforeClose function so that they can trigger the close.\n  // If they don't provide `beforeClose` we just call `close` directly.\n  componentDidUpdate(prevProps) {\n    if (this.props.isOpen) {\n      if (!prevProps.isOpen) {\n        this.open();\n      } else {\n        this.props.onRender(this.portalElement, this.getTargetElement());\n      }\n    } else if (prevProps.isOpen) {\n      if (this.props.beforeClose) {\n        this.props.beforeClose(this.close);\n      } else {\n        this.close();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.close();\n  }\n\n  onDocumentMouseDown(event) {\n    const clickEventProperties = this.getClickEventProperties(event);\n    if (\n      clickEventProperties.isNotLeftClick ||\n      clickEventProperties.isTargetClick ||\n      clickEventProperties.isPortalClick\n    ) {\n      this.shouldClose = false;\n      return;\n    }\n\n    this.shouldClose = true;\n  }\n\n  onDocumentMouseUp(event) {\n    const clickEventProperties = this.getClickEventProperties(event);\n\n    if (\n      clickEventProperties.isNotLeftClick ||\n      clickEventProperties.isTargetClick ||\n      clickEventProperties.isPortalClick\n    ) {\n      this.shouldClose = false;\n      return;\n    }\n\n    if (this.shouldClose) {\n      // `onClose` tells the consumer that they should change `isOpen` to false.\n      // Once the consumer has responded to `onClose`, `beforeClose` and `close` will be called.\n      this.props.onClose(event, { source: 'DOCUMENT_CLICK' });\n    }\n  }\n\n  onDocumentKeyDown(event) {\n    if (\n      event.key === KEYCODES.ESCAPE &&\n      this.props.isOpen &&\n      this.props.closeOnEscPressed\n    ) {\n      // `onClose` tells the consumer that they should change `isOpen` to false.\n      // Once the consumer has responded to `onClose`, `beforeClose` and `close` will be called.\n      this.props.onClose(event, { source: 'ESCAPE' });\n    }\n  }\n\n  onDocumentMouseMove() {\n    this.shouldClose = false;\n  }\n\n  getClickEventProperties(event) {\n    const isNotLeftClick = event.button && event.button !== 0;\n\n    const targetElement = this.getTargetElement();\n    const isTargetClick =\n      targetElement &&\n      event.target instanceof Node &&\n      (event.target === targetElement || targetElement.contains(event.target));\n\n    const isPortalClick =\n      this.portalElement &&\n      event.target instanceof Node &&\n      (event.target === this.portalElement ||\n        this.portalElement.contains(event.target));\n\n    return {\n      isNotLeftClick: !!isNotLeftClick,\n      isTargetClick: !!isTargetClick,\n      isPortalClick: !!isPortalClick,\n    };\n  }\n\n  getTargetElement() {\n    return typeof this.props.target === 'function'\n      ? this.props.target()\n      : this.props.target?.ref.current;\n  }\n\n  getRenderTarget() {\n    const target =\n      typeof this.props.renderTarget === 'function'\n        ? this.props.renderTarget()\n        : this.props.renderTarget;\n\n    if (target) {\n      return target;\n    }\n    if (document.body) {\n      return document.body;\n    }\n\n    throw new Error('Render target and fallback unavailable');\n  }\n\n  open() {\n    if (this.portalElement) {\n      return;\n    }\n\n    this.portalElement = document.createElement('div');\n    this.getRenderTarget().appendChild(this.portalElement);\n\n    const passiveArgs = this.supportsPassiveEvents()\n      ? { passive: true }\n      : false;\n    document.addEventListener(\n      'touchstart',\n      this.onDocumentMouseDown,\n      passiveArgs,\n    );\n    document.addEventListener(\n      'touchmove',\n      this.onDocumentMouseMove,\n      passiveArgs,\n    );\n    document.addEventListener('touchend', this.onDocumentMouseUp, passiveArgs);\n    document.addEventListener('mousedown', this.onDocumentMouseDown, false);\n    document.addEventListener('mouseup', this.onDocumentMouseUp, false);\n    document.addEventListener('keydown', this.onDocumentKeyDown, false);\n\n    if (this.props.style) {\n      assign(this.portalElement.style, this.props.style);\n    }\n\n    if (this.props.className) {\n      this.portalElement.className = this.props.className;\n    }\n    this.setState({ isVisible: true }, () =>\n      this.props.onOpen(this.portalElement, this.getTargetElement()),\n    );\n  }\n\n  close() {\n    if (!this.portalElement) {\n      return;\n    }\n\n    const renderTarget = this.getRenderTarget();\n    if (renderTarget) {\n      renderTarget.removeChild(this.portalElement);\n    }\n\n    document.removeEventListener('touchstart', this.onDocumentMouseDown);\n    document.removeEventListener('touchmove', this.onDocumentMouseMove);\n    document.removeEventListener('touchend', this.onDocumentMouseUp);\n    document.removeEventListener('mousedown', this.onDocumentMouseDown);\n    document.removeEventListener('mouseup', this.onDocumentMouseUp);\n    document.removeEventListener('keydown', this.onDocumentKeyDown);\n\n    this.portalElement = null;\n    this.setState({ isVisible: false });\n  }\n\n  // This function is taken from modernizr\n  // See https://github.com/modernizr/modernizr\n  // eslint-disable-next-line class-methods-use-this\n  supportsPassiveEvents() {\n    let supportsPassiveOption = false;\n    try {\n      const opts = Object.defineProperty({}, 'passive', {\n        // eslint-disable-next-line getter-return\n        get() {\n          supportsPassiveOption = true;\n        },\n      });\n      window.addEventListener('test', null, opts);\n    } catch (e) {\n      return false;\n    }\n    return supportsPassiveOption;\n  }\n\n  render() {\n    const {\n      portalElement,\n      props: { children },\n      state: { isVisible },\n    } = this;\n\n    if (!isVisible || !portalElement) {\n      return null;\n    }\n\n    return createPortal(children, portalElement);\n  }\n}\n\nPortal.propTypes = {\n  children: PropTypes.node.isRequired,\n  isOpen: PropTypes.bool.isRequired,\n  beforeClose: PropTypes.func,\n  className: PropTypes.string,\n  onClose: PropTypes.func,\n  onOpen: PropTypes.func,\n  onRender: PropTypes.func,\n  style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  renderTarget: PropTypes.func,\n  target: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  targetRef: PropTypes.func,\n  closeOnEscPressed: PropTypes.bool,\n};\n\nPortal.defaultProps = {\n  beforeClose: null,\n  className: null,\n  onClose: () => null,\n  onOpen: () => null,\n  onRender: () => null,\n  style: null,\n  renderTarget: null,\n  target: null,\n  targetRef: null,\n  closeOnEscPressed: true,\n};\n\nexport default Portal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}