{"ast":null,"code":"var _jsxFileName = \"/Users/pritam/Desktop/my-app/node_modules/@skyscanner/backpack-web/bpk-component-input/src/BpkInput.js\";\n/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */import React, { Component } from 'react';\nimport { cssModules } from '../../bpk-react-utils';\nimport BpkClearButton from './BpkClearButton';\nimport STYLES from './BpkInput.module.scss';\nimport { propTypes, defaultProps, CLEAR_BUTTON_MODES } from './common-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getClassName = cssModules(STYLES);\nclass BpkInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      persistClearButton: false\n    };\n  }\n  render() {\n    const classNames = [getClassName('bpk-input')];\n    const containerClassNames = [getClassName('bpk-input__container')];\n    const clearButtonClassNames = [getClassName('bpk-input__clear-button')];\n    const {\n      className,\n      clearButtonLabel,\n      clearButtonMode,\n      docked,\n      dockedFirst,\n      dockedLast,\n      dockedMiddle,\n      inputRef,\n      large,\n      name,\n      onClear,\n      valid,\n      value,\n      ...rest\n    } = this.props;\n\n    // Used as a ref for focussing the input when cleared.\n    let ref = null;\n\n    // Explicit check for false primitive value as undefined is\n    // treated as neither valid nor invalid\n    const isInvalid = valid === false;\n    const clearable = clearButtonMode && clearButtonMode !== CLEAR_BUTTON_MODES.never;\n    if (valid) {\n      classNames.push(getClassName('bpk-input--valid'));\n    } else if (isInvalid) {\n      classNames.push(getClassName('bpk-input--invalid'));\n    }\n    if (large) {\n      classNames.push(getClassName('bpk-input--large'));\n      clearButtonClassNames.push(getClassName('bpk-input__clear-button--large'));\n    }\n    if (clearable) {\n      classNames.push(getClassName('bpk-input--clearable'));\n      if (clearButtonMode === CLEAR_BUTTON_MODES.always || this.state.persistClearButton) {\n        classNames.push(getClassName('bpk-input--persistent-clearable'));\n        clearButtonClassNames.push(getClassName('bpk-input__clear-button--persistent'));\n      }\n    }\n    if (docked) {\n      classNames.push(getClassName('bpk-input--docked'));\n    }\n    if (dockedFirst) {\n      classNames.push(getClassName('bpk-input--docked-first'));\n    }\n    if (dockedMiddle) {\n      classNames.push(getClassName('bpk-input--docked-middle'));\n    }\n    if (dockedLast) {\n      classNames.push(getClassName('bpk-input--docked-last'));\n    }\n    if (className) {\n      if (clearable) {\n        containerClassNames.push(className);\n      } else {\n        classNames.push(className);\n      }\n    }\n    const renderedInput =\n    /*#__PURE__*/\n    // $FlowFixMe[cannot-spread-inexact] - inexact rest. See 'decisions/flowfixme.md'.\n    _jsxDEV(\"input\", {\n      className: classNames.join(' '),\n      ref: input => {\n        ref = input;\n        if (inputRef) {\n          inputRef(input);\n        }\n      },\n      \"aria-invalid\": isInvalid,\n      value: value,\n      name: name,\n      ...rest\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n\n    // When we mouseDown, we should persist the clear button.\n    // If we don't do this, then for `clearableWhileEditing` mode the mouseDown on the button will cause the input to lose focus,\n    // which will hide the button. The `onClick` event cannot complete if the button is removed from the DOM but mouseUp!\n    const onMouseDown = () => {\n      this.setState({\n        persistClearButton: true\n      });\n    };\n    return clearable ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: containerClassNames.join(' '),\n      children: [renderedInput, value.length > 0 && /*#__PURE__*/_jsxDEV(BpkClearButton, {\n        tabIndex: \"-1\",\n        label: clearButtonLabel || '',\n        onMouseDown: onMouseDown,\n        onClick: e => {\n          if (ref) {\n            ref.focus();\n          }\n          if (onClear) {\n            e.target.name = name;\n            onClear(e);\n            this.setState({\n              persistClearButton: false\n            });\n          }\n        },\n        className: clearButtonClassNames.join(' ')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this) : renderedInput;\n  }\n}\nBpkInput.propTypes = propTypes;\nBpkInput.defaultProps = defaultProps;\nexport default BpkInput;","map":{"version":3,"names":["React","Component","cssModules","BpkClearButton","STYLES","propTypes","defaultProps","CLEAR_BUTTON_MODES","jsxDEV","_jsxDEV","getClassName","BpkInput","constructor","props","state","persistClearButton","render","classNames","containerClassNames","clearButtonClassNames","className","clearButtonLabel","clearButtonMode","docked","dockedFirst","dockedLast","dockedMiddle","inputRef","large","name","onClear","valid","value","rest","ref","isInvalid","clearable","never","push","always","renderedInput","join","input","fileName","_jsxFileName","lineNumber","columnNumber","onMouseDown","setState","children","length","tabIndex","label","onClick","e","focus","target"],"sources":["/Users/pritam/Desktop/my-app/node_modules/@skyscanner/backpack-web/bpk-component-input/src/BpkInput.js"],"sourcesContent":["/*\n * Backpack - Skyscanner's Design System\n *\n * Copyright 2016 Skyscanner Ltd\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* @flow strict */\n\nimport React, { Component } from 'react';\n\nimport { cssModules } from '../../bpk-react-utils';\n\nimport BpkClearButton from './BpkClearButton';\nimport STYLES from './BpkInput.module.scss';\nimport {\n  type Props,\n  propTypes,\n  defaultProps,\n  CLEAR_BUTTON_MODES,\n} from './common-types';\n\ntype State = {\n  persistClearButton: boolean,\n};\n\nconst getClassName = cssModules(STYLES);\n\nclass BpkInput extends Component<Props, State> {\n  static propTypes = propTypes;\n\n  static defaultProps = defaultProps;\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = { persistClearButton: false };\n  }\n\n  render() {\n    const classNames = [getClassName('bpk-input')];\n    const containerClassNames = [getClassName('bpk-input__container')];\n    const clearButtonClassNames = [getClassName('bpk-input__clear-button')];\n    const {\n      className,\n      clearButtonLabel,\n      clearButtonMode,\n      docked,\n      dockedFirst,\n      dockedLast,\n      dockedMiddle,\n      inputRef,\n      large,\n      name,\n      onClear,\n      valid,\n      value,\n      ...rest\n    } = this.props;\n\n    // Used as a ref for focussing the input when cleared.\n    let ref = null;\n\n    // Explicit check for false primitive value as undefined is\n    // treated as neither valid nor invalid\n    const isInvalid = valid === false;\n\n    const clearable =\n      clearButtonMode && clearButtonMode !== CLEAR_BUTTON_MODES.never;\n\n    if (valid) {\n      classNames.push(getClassName('bpk-input--valid'));\n    } else if (isInvalid) {\n      classNames.push(getClassName('bpk-input--invalid'));\n    }\n\n    if (large) {\n      classNames.push(getClassName('bpk-input--large'));\n      clearButtonClassNames.push(\n        getClassName('bpk-input__clear-button--large'),\n      );\n    }\n    if (clearable) {\n      classNames.push(getClassName('bpk-input--clearable'));\n      if (\n        clearButtonMode === CLEAR_BUTTON_MODES.always ||\n        this.state.persistClearButton\n      ) {\n        classNames.push(getClassName('bpk-input--persistent-clearable'));\n        clearButtonClassNames.push(\n          getClassName('bpk-input__clear-button--persistent'),\n        );\n      }\n    }\n\n    if (docked) {\n      classNames.push(getClassName('bpk-input--docked'));\n    }\n    if (dockedFirst) {\n      classNames.push(getClassName('bpk-input--docked-first'));\n    }\n    if (dockedMiddle) {\n      classNames.push(getClassName('bpk-input--docked-middle'));\n    }\n    if (dockedLast) {\n      classNames.push(getClassName('bpk-input--docked-last'));\n    }\n    if (className) {\n      if (clearable) {\n        containerClassNames.push(className);\n      } else {\n        classNames.push(className);\n      }\n    }\n\n    const renderedInput = (\n      // $FlowFixMe[cannot-spread-inexact] - inexact rest. See 'decisions/flowfixme.md'.\n      <input\n        className={classNames.join(' ')}\n        ref={(input) => {\n          ref = input;\n          if (inputRef) {\n            inputRef(input);\n          }\n        }}\n        aria-invalid={isInvalid}\n        value={value}\n        name={name}\n        {...rest}\n      />\n    );\n\n    // When we mouseDown, we should persist the clear button.\n    // If we don't do this, then for `clearableWhileEditing` mode the mouseDown on the button will cause the input to lose focus,\n    // which will hide the button. The `onClick` event cannot complete if the button is removed from the DOM but mouseUp!\n    const onMouseDown = () => {\n      this.setState({ persistClearButton: true });\n    };\n\n    return clearable ? (\n      <div className={containerClassNames.join(' ')}>\n        {renderedInput}\n        {value.length > 0 && (\n          <BpkClearButton\n            tabIndex=\"-1\"\n            label={clearButtonLabel || ''}\n            onMouseDown={onMouseDown}\n            onClick={(e) => {\n              if (ref) {\n                ref.focus();\n              }\n              if (onClear) {\n                e.target.name = name;\n                onClear(e);\n                this.setState({ persistClearButton: false });\n              }\n            }}\n            className={clearButtonClassNames.join(' ')}\n          />\n        )}\n      </div>\n    ) : (\n      renderedInput\n    );\n  }\n}\n\nexport default BpkInput;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}